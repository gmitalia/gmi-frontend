<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Sviluppare un platform nel 2023 | GameMaker Italia</title><meta property="og:title" content="Sviluppare un platform nel 2023"/><meta property="og:description" content="Impariamo a sviluppare una base robusta e moderna"/><meta name="description" content="Impariamo a sviluppare una base robusta e moderna"/><meta property="og:image" content="https://cdn.sanity.io/images/idfqw720/production/fd8dfc84de0868b018afffa23689713bd9475257-1280x720.png"/><meta name="next-head-count" content="7"/><link rel="preload" href="/_next/static/css/8af578e3d7397b27.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8af578e3d7397b27.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-f2d22c1aaea1682a.js" defer=""></script><script src="/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/_next/static/chunks/main-1a5ef2ee6643c975.js" defer=""></script><script src="/_next/static/chunks/pages/_app-28a75c50cc44015e.js" defer=""></script><script src="/_next/static/chunks/935-465bd4230b1ee5d4.js" defer=""></script><script src="/_next/static/chunks/916-b3009cdb4ae9914e.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-cdb2fea71143702a.js" defer=""></script><script src="/_next/static/wNBS7YDG9BXCaB6P2K7zG/_buildManifest.js" defer=""></script><script src="/_next/static/wNBS7YDG9BXCaB6P2K7zG/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="bg-white"><div class="md:flex md:justify-between p-5 max-w-7xl mx-auto"><div class="block md:flex md:space-x-5 items-center w-full gap-5"><div class="flex items-center justify-between space-x-5"><a href="/" title="GameMaker Italia Home Page" class="flex gap-2"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28.7 28.7" xml:space="preserve" class="w-9 object-contain cursor-pointer"><g fill-opacity="1" stroke-dasharray="none" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="1" transform="translate(-1.65 -1.65)"><path fill="#f20d0d" stroke="none" stroke-width="1" d="M12 6l4-4 14 14h-8z" vector-effect="non-scaling-stroke"></path><path fill="#1eb464" stroke="none" stroke-width="1" d="M6 12l14 14-4 4L2 16z" vector-effect="non-scaling-stroke"></path><path fill="#fff" stroke="none" stroke-width="1" d="M10 16l6-6-4-4-6 6zm6 6v-6h6v8l-2 2z" vector-effect="non-scaling-stroke"></path><path fill="none" stroke="#000" stroke-width="0.7" d="M16 2l14 14h-8l-6-6-6 6 6 6v-6h6v8l-6 6L2 16z"></path></g></svg><span class="text-3xl hidden lg:block ">GameMaker Italia</span></a><button class="md:hidden relative"><div class="space-y-2"><div class="w-8 h-0.5 bg-gray-600"></div><div class="w-8 h-0.5 bg-gray-600"></div><div class="w-8 h-0.5 bg-gray-600"></div></div></button></div><ul class="ml-0 text-md flex overflow-hidden w-full flex-col items-start md:flex-row md:justify-end md:items-center space-x-5 flex-1 z-1 md:z-auto absolute md:static w-full bg-white left-0"><li class="border-transparent w-full md:w-auto hover:underline decoration-2 duration-500 my-6 ml-5 md:my-0"><a href="/blog/">Blog</a></li><li class="border-transparent w-full md:w-auto hover:underline decoration-2 duration-500 my-6 ml-5 md:my-0"><a href="/showcase/">Showcase</a></li><li class="border-transparent w-full md:w-auto hover:underline decoration-2 duration-500 my-6 md:my-0"><a href="/competizioni/">Competizioni</a></li><li class="border-transparent w-full md:w-auto hover:underline decoration-2 duration-500 my-6 md:my-0"><a href="https://gmiscores.altervista.org">GMIScores</a></li><li class="border-transparent w-full md:w-auto hover:underline decoration-2 duration-500 my-6 md:my-0"><a href="https://gmitalia.altervista.org/site/risorse-2/">Risorse</a></li><li class="my-6 md:my-0"><div class="items-center justify-end"><div class="flex justify-center items-center text-white bg-gray-800 px-4 py-2 rounded-full leading-none hover:shadow-lg hover:contrast-200 transition-all"><a href="https://discord.gg/0wKBBPIbX2r3S32a">Entra su Discord</a></div></div></li></ul></div></div></header><div class="blog-post__wrapper"><article class="blog-post blog-post--tutorial"><h2 class="blog-post__title">Sviluppare un platform nel 2023</h2><img class="blog-post__main-image" src="https://cdn.sanity.io/images/idfqw720/production/fd8dfc84de0868b018afffa23689713bd9475257-1280x720.png" alt="Sviluppare un platform nel 2023"/><div><div class="blog-post__metadata"><p>Scritto da <!-- -->Scario<!-- --></p><p>17 Ottobre 2023</p></div></div><div class="blog-post__text"><div><h3>Premessa<!-- --></h3><p>Credo che i tutorial per lo sviluppo di giochi platform siano i più ricercati per ogni piattaforma di sviluppo, e <!-- --><strong>GameMaker <!-- --></strong>non fa eccezione. <!-- --><br/>Questo però genera anche un problema: essendocene molti, nessuno si prende più la briga di crearne di nuovi. <!-- --></p><p>Però:<!-- --></p><ul><li>i software sono progrediti nel tempo, regalandoci nuove funzionalità.<!-- --></li><li>gli utenti sono diventati più esigenti, visto che anche gli indie come <!-- --><em>Celeste <!-- --></em>hanno diverse accortezze lato codice per rendere i giochi più piacevoli.<!-- --></li></ul><p>Date queste premesse, partiamo quindi con la creazione di un platform &quot;moderno&quot;. <!-- --></p><p>Se preferite scaricare direttamente il codice sorgente del progetto trovate il link nella sezione <!-- --><em>Download<!-- --></em> di questo stesso articolo.<!-- --></p><h3>Caratteristiche<!-- --></h3><p>Il prodotto finale conterrà<!-- --></p><ul><li>Accelerazione e decelerazione<!-- --></li><li>Collisioni con <!-- --><em>move_and_collide <!-- --></em>su superfici piane e non<!-- --></li><li>Coyote Time<!-- --></li><li>Jump Buffer<!-- --></li><li>Salti ad altezza variabile<!-- --></li><li>Animazioni / cambio sprite<!-- --></li></ul><p>I nomi degli oggetti e delle variabili sono compatibili con la configurazione di <!-- --><a href="https://manual.yoyogames.com/Setting_Up_And_Version_Information/IDE_Preferences/Feather_Settings.htm">Feather<!-- --></a> di default.<!-- --></p><h3>Sviluppiamo il progetto<!-- --></h3><p>Creiamo un nuovo progetto e inseriamo due oggetti:<!-- --></p><ul><li><em>obj_player<!-- --></em></li><li><em>obj_collision<!-- --></em></li></ul><h4>Le basi: movimento e collisioni<!-- --></h4><p>Apriamo l&#x27;oggetto <!-- --><strong>obj_player <!-- --></strong>e inseriamo queste variabili nel <!-- --><em>Create Event<!-- --></em></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/76bd6b01864eeb73b3dfd01a49c44af75a57578d-511x251.png"/></figure><p>Tra nomi delle variabili e commenti dovrebbe essere tutto abbastanza lineare. Faccio solo notare che nelle ultime versioni di GameMaker, nelle funzioni per la gestione delle collisioni, si possono degli array di oggetti (o addirittura di tileset) invece di specificarne uno unico: per questo vedete la riga 9 fatta in questa maniera.<!-- --></p><p>Passiamo ora alla logica. Apriamo lo <!-- --><em>Step Event:<!-- --></em></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/a4b6a2feb9220f559b6c19b52fdf520224c8b4a6-396x302.png"/></figure><p>Se sulle prime righe non credo ci sia niente di particolare da aggiungere, parliamo di quanto scritto tra le righe 9 e 13: qui viene gestita l&#x27;accelerazione e la decelerazione del nostro personaggio mentre ci muoviamo, evitando quel brusco passaggio tra l&#x27;immobilità e il movimento, e viceversa.<!-- --><br/><strong>approach<!-- --></strong> non è una funziona nativa di GameMaker, ma la si usa da tempo immemore: è molto simile al <!-- --><a href="https://manual.yoyogames.com/GameMaker_Language/GML_Reference/Maths_And_Numbers/Number_Functions/lerp.htm">lerp<!-- --></a> nativo di GM, con la differenza che qui il terzo parametro è un incremento \ decremento statico, mentre nel lerp è percentuale. <!-- --></p><p>E&#x27; un approccio anzi molto simile l&#x27;utilizzo di una funziona piuttosto che l&#x27;altra, ma, con la futura gestione delle animazioni che andremo ad implementare, mi trovo più comodo ad usare questo metodo.<!-- --><br/><a href="https://pastebin.com/7gzJTLKj">A questo link<!-- --></a>, condiviso al tempo dal buon Shaun Spalding, potete trovare la funzione da salvare all&#x27;interno di un file Script all&#x27;interno di GameMaker.<!-- --><br/></p><p>Passiamo ora alla gestione del movimento verticale:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/7271c3c8e583a2a8de1f4ec6d8a5ced5de53d93a-412x146.png"/></figure><p>Anche qui tutto abbastanza standard: diamo la possibilità al giocatore di saltare solo se siamo &quot;a terra&quot;. Al momento va benissimo così, ma immaginerete anche voi che questo sarà uno dei punti da modificare quando dovremo gestire coyote time e jump buffer.<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/06dbd84a029b4f1e8362e73f9320b62ff120f1a0-602x150.png"/></figure><p>Quest&#x27;ultima parte dello <!-- --><em>Step Event<!-- --></em> è tutta dedicata alle collisioni, e sono tutte gestite tramite la funzione <!-- --><em>move_and_collide<!-- --></em>: questa funzione permette di effettuare un movimento all&#x27;interno della room finchè non trova una o più istanze che lo bloccano.<!-- --></p><p><strong>move_and_collide<!-- --></strong> prevede 3 parametri obbligatori: movimento sull&#x27;asse X, movimento sull&#x27;asse y, oggetto (o array di oggetti, o tileset) che non permettono il movimento. La riga 26 da questo punto di vista rispetta quando appena descritto: l&#x27;oggetto si muoverà di hsp pixel orizzontalmente, di 0 px vericalmente, e collision_objects contiene l&#x27;array di oggetti con cui verificare le collisioni. <!-- --></p><p>Ci sono 4 ulteriori parametri opzionali che può accettare questa funzione:<!-- --></p><ul><li><strong><em>num_iterations<!-- --></em></strong>, che indica ogni quanti pixel verificare la collisione. (di default è 4). L&#x27;operazione effettuata è <!-- --><em>movimento<!-- --></em> (asse x o y) <!-- --><strong>diviso<!-- --></strong> <!-- --><em>num_iterations<!-- --></em>. Noi vogliamo che il check sia effettuato ad ogni pixel, per cui lo abbiamo valorizzato ad <!-- --><em>hsp<!-- --></em> così da avere <!-- --><em>hsp / hsp<!-- --></em> = 1 a riga 26, ad esempio.<!-- --></li><li><strong><em>xoff<!-- --></em></strong>, che indica la componente x della direzione nella quale muovere l&#x27;oggetto in caso di collisione (di default è perpendicolare alla direzione del movimento)<!-- --></li><li><strong><em>yoff<!-- --></em></strong>, che indica la componente x della direzione nella quale muovere l&#x27;oggetto in caso di collisione (di default è perpendicolare alla direzione del movimento)<!-- --></li><li><strong><em>max_x_move<!-- --></em></strong>, la massima velocità con la quale l&#x27;istanza dovrebbe muoversi sull&#x27;asse x (di default è senza limite)<!-- --></li><li><strong><em>max_y_move<!-- --></em></strong>, la massima velocità con la quale l&#x27;istanza dovrebbe muoversi sull&#x27;asse y (di default è senza limite)<!-- --></li></ul><p>La funzione move_and_collide ritorna l&#x27;array di oggetti con le quali c&#x27;è stata una collisione: per questo motivo alla riga 30 verifichiamo che ci sia almeno un riferimento ad un&#x27;istanza prima di rimuovere la velocità verticale.<!-- --></p><p>Disegniamo ora le sprite e assegniamole ai vari oggetti: io ad esempio ho creato 3 &quot;muri&quot; (per averne uno orizzontale e due obliqui) e uno per il personaggio. Dobbiamo avere l&#x27;accortezza, però, di settare la collision mask a &quot;Precise (slow)&quot; per le sprite non squadrate:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/b5e7a1461e41e7469487d65d43b964049facb962-999x559.png"/></figure><p>Qui il risultato:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/588a3187af0e924f95fa5e62973ecf33113bee08-720x360.gif"/></figure><p>Abbiamo scritto, in pochissime righe di codice, il codice di un platform &quot;base&quot;.<!-- --></p><h3>Coyote time<!-- --></h3><p>Il <!-- --><em>coyote time<!-- --></em> è la possibilità data al giocatore di effettuare un salto anche se si è già andati oltre la fine di una piattaforma: il nome deriva da una di quelle scene &quot;classiche&quot; di <!-- --><em>Will il Coyote<!-- --></em></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/5ebae68d1f737ac859bc6b5d0208fe44760af736-380x263.jpg"/></figure><p>Può sembrare un&#x27;aggiunta superflua, ma sono caratteristiche come questa (insieme al jumb buffer) che rendono così piacevole il moveset di <!-- --><em>Celeste<!-- --></em>, ad esempio.<!-- --></p><h4>Sviluppo<!-- --></h4><p>Il concetto è molto semplice: inseriamo un contatore che abbia un valore positivo quando il personaggio è su una piattaforma, ma che diminuisce man mano che passa il tempo lontano dalla piattaforma. Se il contatore ha un valore positivo il personaggio può ancora saltare, altrimenti no. Ovviamente il tempo di cui parlo deve essere solo qualche frame per dare un aiuto al giocatore.<!-- --></p><p>Apriamo l&#x27;evento <!-- --><em>Create<!-- --></em> di <!-- --><em>obj_player<!-- --></em> e inseriamo queste due nuove variabili:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/c98937d6abcd86b5395630d755cc35566337eda3-206x57.png"/></figure><p><strong>coyote_time<!-- --></strong> contiene appunto il numero di step per i quali, lasciata la piattaforma, il personaggio potrà ancora saltare. E&#x27; un valore volutamente alto per mostrare il funzionamento all&#x27;interno del tutorial, scegliete voi quello che sta meglio all&#x27;interno del vostro progetto.<!-- --></p><p>Apriamo ora lo <!-- --><em>step event<!-- --></em> e modifichiamo la logica con cui usavamo la variabile <!-- --><em>_on_ground <!-- --></em></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/f1dba6c746a8fad4e0a683126e2a7a20e584a28d-897x593.png"/></figure><p>Anzichè salvare la variabile <!-- --><em>_on_ground<!-- --></em> a true o false in base al fatto che il nostro personaggio fosse su una piattaforma o meno, la valorizziamo con il quantitativo di step salvato in <!-- --><em>coyote_time<!-- --></em>. Così facendo &quot;faremo credere&quot; di essere ancora sulla piattaforma al resto del codice (vedi riga 25).<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/0058df0e9f0865bad113f1577718209389d120d5-720x360.gif"/></figure><h3>Jump buffer<!-- --></h3><p>Il <!-- --><em>jump buffer<!-- --></em> è quella tecnica che permette al giocatore di saltare da una piattaforma in cui siamo appena atterrati, anche se abbiamo mancato il tempismo e abbiamo premuto il tasto salto appena prima di toccare terra.<!-- --></p><h4>Sviluppo<!-- --></h4><p>Anche in questo caso la tecnica prevede un contatore che verificherà quanti step prima di toccare terra abbiamo premuto il tasto per saltare e, nel caso, farci saltare oppure no.<!-- --></p><p>Apriamo l&#x27;evento <!-- --><em>Create<!-- --></em> di <!-- --><em>obj_player<!-- --></em> e inseriamo queste due nuove variabili:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/4149b1eb7514503c693bbe83712f7b5d5c9729ea-137x56.png"/></figure><p>Apriamo lo Step Event e cambiamo la gestione del salto (riga 24) così:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/44b67dd0137c56afe779c7ee0c8db074df721d6b-412x196.png"/></figure><p>Alla pressione del tasto salto quindi non effettueremo più l&#x27;azione, ma &quot;caricheremo&quot; la variabile <!-- --><em>can_jump<!-- --></em>: se questa sarà positiva e saremo sul sul terreno (quindi <!-- --><em>on_ground <!-- --></em>sarà maggiore di zero, per il discorso fatto sul <!-- --><em>coyote time<!-- --></em>), allora effettueremo un salto.<!-- --></p><p>Ovviamente qui è difficile dimostrare il codice con una gif animata: provate a valorizzare <!-- --><em>jump_buffer <!-- --></em>con un valore molto alto e premete il tasto salto prima di toccare terra per riuscire ad apprezzarne il funzionamento.<!-- --></p><h3>Salti ad altezza variabile<!-- --></h3><p>L&#x27;altezza del salto in un videogioco spesso è determinata da quanto si tiene premuto il pulsante adibito a questa azione. La realizzazione di qualcosa del genere è molto semplice.<!-- --></p><h4>Sviluppo<!-- --></h4><p>Nello Step Event di obj_player inseriamo un check per verificare che il pulsante di salto sia costantemente tenuto premuto:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/f8ad8951a2cb0cee7020f4d80635f484ead06e71-382x94.png"/></figure><p>La logica dietro sarà questa: se rilascio il pulsante di salto durante l&#x27;azione, ridurrò (nel nostro caso dimezzandola) la <!-- --><em>vsp<!-- --></em>.<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/cc82d45d3e860dd965056b8b9dcdee892a88cfd5-271x54.png"/></figure><p>Anche qui il risultato sarà più apprezzabile provandolo direttamente, ma vi lascio l&#x27;anteprima del risultato:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/cc7386ba8f88307ad6a70c01c47957abda0c278b-720x360.gif"/></figure><h3>Animazioni / Cambio sprite<!-- --></h3><p>Inizio questo paragrafo ringraziando di cuore l&#x27;utente <!-- --><strong>Victroium <!-- --></strong>che ha realizzato uno splendido asset pack per la realizzazione di questo tutorial.<!-- --></p><p>Quello che ci servirà per questa parte di tutorial saranno i seguenti sprites:<!-- --></p><ul><li><em>spr_player_idle <!-- --></em>(il personaggio fermo)<!-- --></li><li><em>spr_player_walk <!-- --></em>(personaggio che cammina)<!-- --></li><li><em>spr_player_jump <!-- --></em>(personaggio che salta)<!-- --></li><li><em>spr_player_falling <!-- --></em>(personaggio che torna a terra dopo un salto)<!-- --></li></ul><h4>Sviluppo<!-- --></h4><p>Apriamo <!-- --><em>Draw Event<!-- --></em> di <!-- --><em>obj_player<!-- --></em>:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/e8bfa11707954d94cb05ca892ed726de11902f83-744x270.png"/></figure><p>Partiamo dai <!-- --><strong>movimenti a terra<!-- --></strong> (riga 2). Se siamo a terra (<!-- --><em>on_ground &gt; 0<!-- --></em>), non stiamo saltando (<!-- --><em>vsp == 0<!-- --></em>) e siamo in movimento (<!-- --><em>hsp!=0<!-- --></em>), allora usiamo lo sprite di camminata, altrimenti usiamo quello di idle.<!-- --></p><p>Il <!-- --><strong>movimento in aria<!-- --></strong> è altrettanto semplice se abbiamo capito il coyote time trattato qualche paragrafo sopra: se non sono a terra (quindi <!-- --><em>on_ground <!-- --></em>è minore di <!-- --><em>coyote_time<!-- --></em>) e la mia velocità è negativa, allora mi sto muovendo verso l&#x27;alto, altrimenti verso il basso.<!-- --></p><p>La riga 11 non è niente di speciale: apprezziamo solo l&#x27;utilizzo della variabile <!-- --><em>dir <!-- --></em>come valore di <!-- --><em>image_xscale <!-- --></em>per permettere al nostro personaggio di &quot;specchiare&quot; lo sprite orizzontalmente quando ci stiamo spostando a destra o sinistra. Ricordo che questa &quot;tecnica&quot; è utilizzabile solo se la origin dello sprite è centrata orizzontalmente.<!-- --></p><p>Con questa implementazione tutto funziona correttamente, se non per un piccolo punto: se abbiamo usato uno sprite con più frame per l&#x27;animazione del personaggio in salto o in caduta, questa continuerà a resettarsi fino al termine del salto. Per risolvere il problema ci viene in soccorso l&#x27;evento <!-- --><em>Animation End.<!-- --></em></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/a373489e0361c5be99fcd747086f567640eb256c-677x146.png"/></figure><p>Questo evento viene letto quando l&#x27;animazione del nostro sprite_index termina. Anche qui la logica è molto semplice, e diciamo a GM di mantenere l&#x27;ultimo frame dello sprite che abbiamo in uso. <!-- --></p><p>Se vi state chiedendo perchè ci sia quel &quot;-1&quot;, il motivo è semplice: <!-- --><em>image_index <!-- --></em>parte a contare i frame da 0.<!-- --></p><p>Ecco qui il risultato finale.<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/1ab610ee005b920154f16538fd3b4ccaf7b15448-960x540.gif"/></figure><h3>Download<!-- --></h3><p>Potete scaricare il codice sorgente di questo progetto da qui: <!-- --><a href="https://github.com/davidescarioni/gm-platform-starter-kit">Github<!-- --></a></p><h3>Conclusione<!-- --></h3><p>Spero che il tutorial sia risultato chiaro: nessuna di queste tecniche è davvero <!-- --><em>necessaria<!-- --></em> per la realizzazione di un platform, ma come avete potuto apprezzare, con poco codice siamo riusciti a creare una base &quot;robusta&quot; e più aggiornata della maggior parte dei tutorial che si trovano in rete.<!-- --></p><p>Per qualsiasi domanda non fatevi problemi a venirci a trovare su <!-- --><a href="https://discord.gg/0wKBBPIbX2r3S32a">Discord<!-- --></a> .<!-- --></p><p>Alla prossima!<!-- --></p></div></div></article></div><div class="footer"><div class="footer__body"><div class="footer__social"><div>Seguici su:</div><a href="https://www.youtube.com/channel/UCee7hFC_VtQ_gnX5J2tMTHg" title="YouTube"><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"></path><path d="m10 15 5-3-5-3z"></path></svg></div></a><a href="https://twitter.com/GameMakerIta" title="Twitter"><div><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584l-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"></path></svg></div></a><a href="https://discord.gg/0wKBBPIbX2r3S32a" title="Discord"><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02zM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12zm6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12z"></path></svg></div></a></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"comments":[],"mainImage":{"_type":"image","asset":{"_ref":"image-fd8dfc84de0868b018afffa23689713bd9475257-1280x720-png","_type":"reference"}},"_id":"d0245642-6a25-44ad-804b-e33728a843e4","_createdAt":"2023-10-08T08:23:09Z","author":{"name":"Scario","image":{"asset":{"_ref":"image-90619da0c70512acc9cdb6bf17980b2640f171f3-180x180-webp","_type":"reference"},"_type":"image"}},"description":"Impariamo a sviluppare una base robusta e moderna","body":[{"_key":"7d65c651cf59","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Premessa","_key":"40701aafef1e"}],"_type":"block","style":"h3"},{"_type":"block","style":"normal","_key":"967aa5f8d6c1","markDefs":[],"children":[{"_key":"55c2ce45fb31","_type":"span","marks":[],"text":"Credo che i tutorial per lo sviluppo di giochi platform siano i più ricercati per ogni piattaforma di sviluppo, e "},{"_type":"span","marks":["strong"],"text":"GameMaker ","_key":"411be17cddad"},{"_key":"1d7130e292f5","_type":"span","marks":[],"text":"non fa eccezione. \nQuesto però genera anche un problema: essendocene molti, nessuno si prende più la briga di crearne di nuovi. "}]},{"_key":"7d5534275a34","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Però:","_key":"72d311fdfb66"}],"_type":"block","style":"normal"},{"listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":[],"text":"i software sono progrediti nel tempo, regalandoci nuove funzionalità.","_key":"f4217959720e"}],"level":1,"_type":"block","style":"normal","_key":"33d08b98b94f"},{"_type":"block","style":"normal","_key":"e698e49907fe","listItem":"bullet","markDefs":[],"children":[{"marks":[],"text":"gli utenti sono diventati più esigenti, visto che anche gli indie come ","_key":"4bc62637be72","_type":"span"},{"_type":"span","marks":["em"],"text":"Celeste ","_key":"2d2e73e74f9c"},{"_type":"span","marks":[],"text":"hanno diverse accortezze lato codice per rendere i giochi più piacevoli.","_key":"e4e091049859"}],"level":1},{"children":[{"_type":"span","marks":[],"text":"Date queste premesse, partiamo quindi con la creazione di un platform \"moderno\". ","_key":"266f2eb63313"}],"_type":"block","style":"normal","_key":"af61b7ec3df0","markDefs":[]},{"_type":"block","style":"normal","_key":"a9e47fd7ff80","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Se preferite scaricare direttamente il codice sorgente del progetto trovate il link nella sezione ","_key":"2d3d239552b6"},{"_type":"span","marks":["em"],"text":"Download","_key":"0be8c232f865"},{"_type":"span","marks":[],"text":" di questo stesso articolo.","_key":"51877f110ca0"}]},{"_key":"bf76509b8d87","markDefs":[],"children":[{"text":"Caratteristiche","_key":"36d9a4e23f64","_type":"span","marks":[]}],"_type":"block","style":"h3"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Il prodotto finale conterrà","_key":"fcd35c4ea9d3"}],"_type":"block","style":"normal","_key":"4abafee524c0"},{"listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Accelerazione e decelerazione","_key":"052e0fb7f0d6"}],"level":1,"_type":"block","style":"normal","_key":"066699722e92"},{"listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Collisioni con ","_key":"863c8a6bdf48"},{"_type":"span","marks":["em"],"text":"move_and_collide ","_key":"5e27cc6145a1"},{"_type":"span","marks":[],"text":"su superfici piane e non","_key":"e840031b84f4"}],"level":1,"_type":"block","style":"normal","_key":"19429712eb26"},{"children":[{"marks":[],"text":"Coyote Time","_key":"110e4cdba02a","_type":"span"}],"level":1,"_type":"block","style":"normal","_key":"f8d089b6babd","listItem":"bullet","markDefs":[]},{"listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Jump Buffer","_key":"e6dcd7497065"}],"level":1,"_type":"block","style":"normal","_key":"331c9a96d683"},{"children":[{"_type":"span","marks":[],"text":"Salti ad altezza variabile","_key":"2ad097685ef7"}],"level":1,"_type":"block","style":"normal","_key":"dcad819b0f93","listItem":"bullet","markDefs":[]},{"_key":"2629fa86f5ae","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Animazioni / cambio sprite","_key":"aa2cf7a08484"}],"level":1,"_type":"block","style":"normal"},{"style":"normal","_key":"8b64462b76ef","markDefs":[{"href":"https://manual.yoyogames.com/Setting_Up_And_Version_Information/IDE_Preferences/Feather_Settings.htm","_key":"b7e55d4f8ea1","_type":"link"}],"children":[{"_type":"span","marks":[],"text":"I nomi degli oggetti e delle variabili sono compatibili con la configurazione di ","_key":"00379d2dcfad"},{"text":"Feather","_key":"cda23bab0ad2","_type":"span","marks":["b7e55d4f8ea1"]},{"_type":"span","marks":[],"text":" di default.","_key":"8e47f9b935d8"}],"_type":"block"},{"style":"h3","_key":"a312fe12261a","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Sviluppiamo il progetto","_key":"4e88a48b73bb"}],"_type":"block"},{"children":[{"_type":"span","marks":[],"text":"Creiamo un nuovo progetto e inseriamo due oggetti:","_key":"f8d209cc9efb"}],"_type":"block","style":"normal","_key":"26e1a1c73926","markDefs":[]},{"children":[{"marks":["em"],"text":"obj_player","_key":"8cab05eead3e","_type":"span"}],"level":1,"_type":"block","style":"normal","_key":"a797dd9bce57","listItem":"bullet","markDefs":[]},{"style":"normal","_key":"166502b9b552","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":["em"],"text":"obj_collision","_key":"5ea86bb63412"}],"level":1,"_type":"block"},{"markDefs":[],"children":[{"_key":"1ab0edabfb97","_type":"span","marks":[],"text":"Le basi: movimento e collisioni"}],"_type":"block","style":"h4","_key":"6f7c7a457bf8"},{"_key":"a5ed753a30a7","markDefs":[],"children":[{"marks":[],"text":"Apriamo l'oggetto ","_key":"03c18d92671b","_type":"span"},{"_key":"ad287c33c514","_type":"span","marks":["strong"],"text":"obj_player "},{"_key":"e7b0a4e38984","_type":"span","marks":[],"text":"e inseriamo queste variabili nel "},{"_type":"span","marks":["em"],"text":"Create Event","_key":"9b4cb3f72793"}],"_type":"block","style":"normal"},{"_type":"image","_key":"8dcca07e01d1","asset":{"_ref":"image-76bd6b01864eeb73b3dfd01a49c44af75a57578d-511x251-png","_type":"reference"}},{"_type":"block","style":"normal","_key":"ddb6759f1cbb","markDefs":[],"children":[{"text":"Tra nomi delle variabili e commenti dovrebbe essere tutto abbastanza lineare. Faccio solo notare che nelle ultime versioni di GameMaker, nelle funzioni per la gestione delle collisioni, si possono degli array di oggetti (o addirittura di tileset) invece di specificarne uno unico: per questo vedete la riga 9 fatta in questa maniera.","_key":"f00a79abeea3","_type":"span","marks":[]}]},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Passiamo ora alla logica. Apriamo lo ","_key":"d07022d704fb"},{"marks":["em"],"text":"Step Event:","_key":"cc458b4dabde","_type":"span"}],"_type":"block","style":"normal","_key":"4310617da885"},{"_type":"image","_key":"72b03ce7827b","asset":{"_ref":"image-a4b6a2feb9220f559b6c19b52fdf520224c8b4a6-396x302-png","_type":"reference"}},{"_key":"bad8a3221cc4","markDefs":[{"_type":"link","href":"https://manual.yoyogames.com/GameMaker_Language/GML_Reference/Maths_And_Numbers/Number_Functions/lerp.htm","_key":"e4fb23a76497"},{"href":"https://pastebin.com/7gzJTLKj","_key":"9dc8c20f7dc5","_type":"link"}],"children":[{"_type":"span","marks":[],"text":"Se sulle prime righe non credo ci sia niente di particolare da aggiungere, parliamo di quanto scritto tra le righe 9 e 13: qui viene gestita l'accelerazione e la decelerazione del nostro personaggio mentre ci muoviamo, evitando quel brusco passaggio tra l'immobilità e il movimento, e viceversa.\n","_key":"4c90824a905c"},{"_type":"span","marks":["strong"],"text":"approach","_key":"e7ba54100253"},{"_key":"bb8cbebf3fdb","_type":"span","marks":[],"text":" non è una funziona nativa di GameMaker, ma la si usa da tempo immemore: è molto simile al "},{"_type":"span","marks":["e4fb23a76497"],"text":"lerp","_key":"07b682d4c483"},{"text":" nativo di GM, con la differenza che qui il terzo parametro è un incremento \\ decremento statico, mentre nel lerp è percentuale. ","_key":"3a5e63490b09","_type":"span","marks":[]}],"_type":"block","style":"normal"},{"markDefs":[{"_type":"link","href":"https://pastebin.com/7gzJTLKj","_key":"9dc8c20f7dc5"}],"children":[{"_type":"span","marks":[],"text":"E' un approccio anzi molto simile l'utilizzo di una funziona piuttosto che l'altra, ma, con la futura gestione delle animazioni che andremo ad implementare, mi trovo più comodo ad usare questo metodo.\n","_key":"7cf2b001493e"},{"_key":"56592029600a","_type":"span","marks":["9dc8c20f7dc5"],"text":"A questo link"},{"_type":"span","marks":[],"text":", condiviso al tempo dal buon Shaun Spalding, potete trovare la funzione da salvare all'interno di un file Script all'interno di GameMaker.\n","_key":"c944904e20ad"}],"_type":"block","style":"normal","_key":"cbe87b502946"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Passiamo ora alla gestione del movimento verticale:","_key":"e33cff8355b2"}],"_type":"block","style":"normal","_key":"f4d4600ded12"},{"_type":"image","_key":"1169671c0e43","asset":{"_ref":"image-7271c3c8e583a2a8de1f4ec6d8a5ced5de53d93a-412x146-png","_type":"reference"}},{"style":"normal","_key":"edcefa16353b","markDefs":[],"children":[{"_key":"1ee72f5fa34d","_type":"span","marks":[],"text":"Anche qui tutto abbastanza standard: diamo la possibilità al giocatore di saltare solo se siamo \"a terra\". Al momento va benissimo così, ma immaginerete anche voi che questo sarà uno dei punti da modificare quando dovremo gestire coyote time e jump buffer."}],"_type":"block"},{"_key":"4a70ba44eae6","asset":{"_ref":"image-06dbd84a029b4f1e8362e73f9320b62ff120f1a0-602x150-png","_type":"reference"},"_type":"image"},{"_key":"c0f912be7595","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Quest'ultima parte dello ","_key":"adc8959893d9"},{"_type":"span","marks":["em"],"text":"Step Event","_key":"811d426249d5"},{"_type":"span","marks":[],"text":" è tutta dedicata alle collisioni, e sono tutte gestite tramite la funzione ","_key":"be87e4a3aca6"},{"_type":"span","marks":["em"],"text":"move_and_collide","_key":"8a38bbad3c36"},{"_type":"span","marks":[],"text":": questa funzione permette di effettuare un movimento all'interno della room finchè non trova una o più istanze che lo bloccano.","_key":"70260fde5876"}],"_type":"block","style":"normal"},{"children":[{"_type":"span","marks":["strong"],"text":"move_and_collide","_key":"db45053b09a0"},{"marks":[],"text":" prevede 3 parametri obbligatori: movimento sull'asse X, movimento sull'asse y, oggetto (o array di oggetti, o tileset) che non permettono il movimento. La riga 26 da questo punto di vista rispetta quando appena descritto: l'oggetto si muoverà di hsp pixel orizzontalmente, di 0 px vericalmente, e collision_objects contiene l'array di oggetti con cui verificare le collisioni. ","_key":"c15a9a86bf5e","_type":"span"}],"_type":"block","style":"normal","_key":"adff4aa5ea31","markDefs":[]},{"_key":"24904e430222","markDefs":[],"children":[{"_key":"81ae11a15900","_type":"span","marks":[],"text":"Ci sono 4 ulteriori parametri opzionali che può accettare questa funzione:"}],"_type":"block","style":"normal"},{"children":[{"_type":"span","marks":["em","strong"],"text":"num_iterations","_key":"b41b5f7a16310"},{"_type":"span","marks":[],"text":", che indica ogni quanti pixel verificare la collisione. (di default è 4). L'operazione effettuata è ","_key":"4b9abcb783a5"},{"_key":"93efa8064b6d","_type":"span","marks":["em"],"text":"movimento"},{"text":" (asse x o y) ","_key":"1fde48569013","_type":"span","marks":[]},{"_type":"span","marks":["strong"],"text":"diviso","_key":"92e9c9f63d65"},{"marks":[],"text":" ","_key":"d22a219926cc","_type":"span"},{"marks":["em"],"text":"num_iterations","_key":"2175fba3d6cd","_type":"span"},{"_type":"span","marks":[],"text":". Noi vogliamo che il check sia effettuato ad ogni pixel, per cui lo abbiamo valorizzato ad ","_key":"f84d47a1826a"},{"_type":"span","marks":["em"],"text":"hsp","_key":"28f2d993047c"},{"_type":"span","marks":[],"text":" così da avere ","_key":"e00460a9325f"},{"_type":"span","marks":["em"],"text":"hsp / hsp","_key":"aa825bc85fc4"},{"marks":[],"text":" = 1 a riga 26, ad esempio.","_key":"a9c73c4429a3","_type":"span"}],"level":1,"_type":"block","style":"normal","_key":"1c5bc6ddd43a","listItem":"bullet","markDefs":[]},{"style":"normal","_key":"2ac9d8e31176","listItem":"bullet","markDefs":[],"children":[{"marks":["em","strong"],"text":"xoff","_key":"fbd7aa821d63","_type":"span"},{"marks":[],"text":", che indica la componente x della direzione nella quale muovere l'oggetto in caso di collisione (di default è perpendicolare alla direzione del movimento)","_key":"b48252b0b5ae","_type":"span"}],"level":1,"_type":"block"},{"style":"normal","_key":"ca2d0786b9ec","listItem":"bullet","markDefs":[],"children":[{"marks":["em","strong"],"text":"yoff","_key":"a41f8dcc281d","_type":"span"},{"text":", che indica la componente x della direzione nella quale muovere l'oggetto in caso di collisione (di default è perpendicolare alla direzione del movimento)","_key":"dd6360e255ca","_type":"span","marks":[]}],"level":1,"_type":"block"},{"_key":"6d51a6357b9a","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":["em","strong"],"text":"max_x_move","_key":"94b9fdda4078"},{"_type":"span","marks":[],"text":", la massima velocità con la quale l'istanza dovrebbe muoversi sull'asse x (di default è senza limite)","_key":"e960969568f4"}],"level":1,"_type":"block","style":"normal"},{"level":1,"_type":"block","style":"normal","_key":"92ddcd552d5e","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":["em","strong"],"text":"max_y_move","_key":"ecfd90012db4"},{"_type":"span","marks":[],"text":", la massima velocità con la quale l'istanza dovrebbe muoversi sull'asse y (di default è senza limite)","_key":"1a4a845fdccc"}]},{"markDefs":[],"children":[{"_key":"4827c723e8f6","_type":"span","marks":[],"text":"La funzione move_and_collide ritorna l'array di oggetti con le quali c'è stata una collisione: per questo motivo alla riga 30 verifichiamo che ci sia almeno un riferimento ad un'istanza prima di rimuovere la velocità verticale."}],"_type":"block","style":"normal","_key":"cd0057630915"},{"style":"normal","_key":"052b9ba03ad5","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Disegniamo ora le sprite e assegniamole ai vari oggetti: io ad esempio ho creato 3 \"muri\" (per averne uno orizzontale e due obliqui) e uno per il personaggio. Dobbiamo avere l'accortezza, però, di settare la collision mask a \"Precise (slow)\" per le sprite non squadrate:","_key":"23b87c4071e4"}],"_type":"block"},{"_type":"image","_key":"39950564cffb","asset":{"_ref":"image-b5e7a1461e41e7469487d65d43b964049facb962-999x559-png","_type":"reference"}},{"style":"normal","_key":"e51ffaa17a80","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Qui il risultato:","_key":"2055eb0c716b"}],"_type":"block"},{"_type":"image","_key":"9a61c349c107","asset":{"_ref":"image-588a3187af0e924f95fa5e62973ecf33113bee08-720x360-gif","_type":"reference"}},{"style":"normal","_key":"89ae8c77dbac","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Abbiamo scritto, in pochissime righe di codice, il codice di un platform \"base\".","_key":"0f366f092279"}],"_type":"block"},{"_type":"block","style":"h3","_key":"523cd40f1454","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Coyote time","_key":"40af4d1cfda6"}]},{"markDefs":[],"children":[{"text":"Il ","_key":"f964331945bd","_type":"span","marks":[]},{"_key":"82180e85ecee","_type":"span","marks":["em"],"text":"coyote time"},{"_type":"span","marks":[],"text":" è la possibilità data al giocatore di effettuare un salto anche se si è già andati oltre la fine di una piattaforma: il nome deriva da una di quelle scene \"classiche\" di ","_key":"1ae4aa7907c8"},{"text":"Will il Coyote","_key":"c3c337062b5f","_type":"span","marks":["em"]}],"_type":"block","style":"normal","_key":"56b74f161e7c"},{"_type":"image","_key":"b3384271be7b","asset":{"_ref":"image-5ebae68d1f737ac859bc6b5d0208fe44760af736-380x263-jpg","_type":"reference"}},{"_type":"block","style":"normal","_key":"77dd1ab3e0c6","markDefs":[],"children":[{"text":"Può sembrare un'aggiunta superflua, ma sono caratteristiche come questa (insieme al jumb buffer) che rendono così piacevole il moveset di ","_key":"d4e732ce798e","_type":"span","marks":[]},{"_type":"span","marks":["em"],"text":"Celeste","_key":"6314b1b62ba2"},{"_type":"span","marks":[],"text":", ad esempio.","_key":"9ea98ad236a1"}]},{"_type":"block","style":"h4","_key":"0eec0a9babd9","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Sviluppo","_key":"4c164a9005b4"}]},{"children":[{"_key":"5d012ceffd75","_type":"span","marks":[],"text":"Il concetto è molto semplice: inseriamo un contatore che abbia un valore positivo quando il personaggio è su una piattaforma, ma che diminuisce man mano che passa il tempo lontano dalla piattaforma. Se il contatore ha un valore positivo il personaggio può ancora saltare, altrimenti no. Ovviamente il tempo di cui parlo deve essere solo qualche frame per dare un aiuto al giocatore."}],"_type":"block","style":"normal","_key":"70bd3f784ab3","markDefs":[]},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Apriamo l'evento ","_key":"ce4337b8ba03"},{"_key":"0545a995fc54","_type":"span","marks":["em"],"text":"Create"},{"text":" di ","_key":"688179fe6105","_type":"span","marks":[]},{"_type":"span","marks":["em"],"text":"obj_player","_key":"1bcf2d4ac32c"},{"_type":"span","marks":[],"text":" e inseriamo queste due nuove variabili:","_key":"3d71f2c9c323"}],"_type":"block","style":"normal","_key":"f120178d4c73"},{"_type":"image","_key":"ab00f8a3a556","asset":{"_ref":"image-c98937d6abcd86b5395630d755cc35566337eda3-206x57-png","_type":"reference"}},{"children":[{"_type":"span","marks":["strong"],"text":"coyote_time","_key":"6c0d3296e1bf"},{"text":" contiene appunto il numero di step per i quali, lasciata la piattaforma, il personaggio potrà ancora saltare. E' un valore volutamente alto per mostrare il funzionamento all'interno del tutorial, scegliete voi quello che sta meglio all'interno del vostro progetto.","_key":"3c02d0ab0641","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"5665eab10c8d","markDefs":[]},{"style":"normal","_key":"be066d685b03","markDefs":[],"children":[{"text":"Apriamo ora lo ","_key":"c8ce47f83192","_type":"span","marks":[]},{"_type":"span","marks":["em"],"text":"step event","_key":"1d205b42a5bd"},{"marks":[],"text":" e modifichiamo la logica con cui usavamo la variabile ","_key":"ccb36cea343e","_type":"span"},{"_key":"b82f4244412f","_type":"span","marks":["em"],"text":"_on_ground "}],"_type":"block"},{"_type":"image","_key":"8029a6ce715d","asset":{"_ref":"image-f1dba6c746a8fad4e0a683126e2a7a20e584a28d-897x593-png","_type":"reference"}},{"style":"normal","_key":"62448f81f2dd","markDefs":[],"children":[{"_key":"00fbb88f49d9","_type":"span","marks":[],"text":"Anzichè salvare la variabile "},{"_type":"span","marks":["em"],"text":"_on_ground","_key":"15b20381ab0d"},{"_key":"b913e226eac5","_type":"span","marks":[],"text":" a true o false in base al fatto che il nostro personaggio fosse su una piattaforma o meno, la valorizziamo con il quantitativo di step salvato in "},{"_type":"span","marks":["em"],"text":"coyote_time","_key":"8841c3d17ecf"},{"_type":"span","marks":[],"text":". Così facendo \"faremo credere\" di essere ancora sulla piattaforma al resto del codice (vedi riga 25).","_key":"346c6b28579e"}],"_type":"block"},{"_key":"cf9ac8e235ce","asset":{"_ref":"image-0058df0e9f0865bad113f1577718209389d120d5-720x360-gif","_type":"reference"},"_type":"image"},{"style":"h3","_key":"159efe18e7f1","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Jump buffer","_key":"c981ea11bb3d"}],"_type":"block"},{"_key":"4e96628340ad","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Il ","_key":"19103ce482e2"},{"_type":"span","marks":["em"],"text":"jump buffer","_key":"15ff7935ffdf"},{"_type":"span","marks":[],"text":" è quella tecnica che permette al giocatore di saltare da una piattaforma in cui siamo appena atterrati, anche se abbiamo mancato il tempismo e abbiamo premuto il tasto salto appena prima di toccare terra.","_key":"dab591eb80e8"}],"_type":"block","style":"normal"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Sviluppo","_key":"db414ac7a3e9"}],"_type":"block","style":"h4","_key":"32fe59bdc230"},{"markDefs":[],"children":[{"marks":[],"text":"Anche in questo caso la tecnica prevede un contatore che verificherà quanti step prima di toccare terra abbiamo premuto il tasto per saltare e, nel caso, farci saltare oppure no.","_key":"ea9dbd2619bb","_type":"span"}],"_type":"block","style":"normal","_key":"0c77b561bd10"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Apriamo l'evento ","_key":"7467c44bada7"},{"_type":"span","marks":["em"],"text":"Create","_key":"936571130926"},{"_type":"span","marks":[],"text":" di ","_key":"09d3285c89e2"},{"_key":"02bcb3b3284d","_type":"span","marks":["em"],"text":"obj_player"},{"_type":"span","marks":[],"text":" e inseriamo queste due nuove variabili:","_key":"0340a64209d7"}],"_type":"block","style":"normal","_key":"b31268e75487"},{"asset":{"_ref":"image-4149b1eb7514503c693bbe83712f7b5d5c9729ea-137x56-png","_type":"reference"},"_type":"image","_key":"cec43a7b8d3a"},{"markDefs":[],"children":[{"marks":[],"text":"Apriamo lo Step Event e cambiamo la gestione del salto (riga 24) così:","_key":"4516cec59803","_type":"span"}],"_type":"block","style":"normal","_key":"b7ebf27a52d8"},{"_type":"image","_key":"1a53e2825420","asset":{"_ref":"image-44b67dd0137c56afe779c7ee0c8db074df721d6b-412x196-png","_type":"reference"}},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Alla pressione del tasto salto quindi non effettueremo più l'azione, ma \"caricheremo\" la variabile ","_key":"6573117092e1"},{"_type":"span","marks":["em"],"text":"can_jump","_key":"cbbe37eac3bc"},{"_key":"932e841fd845","_type":"span","marks":[],"text":": se questa sarà positiva e saremo sul sul terreno (quindi "},{"_key":"d293a716f810","_type":"span","marks":["em"],"text":"on_ground "},{"_type":"span","marks":[],"text":"sarà maggiore di zero, per il discorso fatto sul ","_key":"ff28df84aaf4"},{"_type":"span","marks":["em"],"text":"coyote time","_key":"dc8719937ac6"},{"_type":"span","marks":[],"text":"), allora effettueremo un salto.","_key":"4d6fac15a34c"}],"_type":"block","style":"normal","_key":"b9c4cd05e6bd"},{"style":"normal","_key":"534a4e405be5","markDefs":[],"children":[{"marks":[],"text":"Ovviamente qui è difficile dimostrare il codice con una gif animata: provate a valorizzare ","_key":"4e5647154cfb","_type":"span"},{"_type":"span","marks":["em"],"text":"jump_buffer ","_key":"d24a84a8bceb"},{"_type":"span","marks":[],"text":"con un valore molto alto e premete il tasto salto prima di toccare terra per riuscire ad apprezzarne il funzionamento.","_key":"bbaef8d5aaa0"}],"_type":"block"},{"_key":"6cc4abc25019","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Salti ad altezza variabile","_key":"b36532ee0bb9"}],"_type":"block","style":"h3"},{"children":[{"_type":"span","marks":[],"text":"L'altezza del salto in un videogioco spesso è determinata da quanto si tiene premuto il pulsante adibito a questa azione. La realizzazione di qualcosa del genere è molto semplice.","_key":"6b58da10d945"}],"_type":"block","style":"normal","_key":"966b86dde0fa","markDefs":[]},{"_key":"e47cc6da25a5","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Sviluppo","_key":"2c714d92692e"}],"_type":"block","style":"h4"},{"children":[{"_type":"span","marks":[],"text":"Nello Step Event di obj_player inseriamo un check per verificare che il pulsante di salto sia costantemente tenuto premuto:","_key":"5fd50383e986"}],"_type":"block","style":"normal","_key":"c3f36d8f5ebc","markDefs":[]},{"_type":"image","_key":"fc7c93f31142","asset":{"_ref":"image-f8ad8951a2cb0cee7020f4d80635f484ead06e71-382x94-png","_type":"reference"}},{"style":"normal","_key":"2d8cb64638fb","markDefs":[],"children":[{"marks":[],"text":"La logica dietro sarà questa: se rilascio il pulsante di salto durante l'azione, ridurrò (nel nostro caso dimezzandola) la ","_key":"f853397b1cbb","_type":"span"},{"_type":"span","marks":["em"],"text":"vsp","_key":"7c4defce1426"},{"_type":"span","marks":[],"text":".","_key":"fa0959196261"}],"_type":"block"},{"_type":"image","_key":"60a87e53fc4a","asset":{"_ref":"image-cc82d45d3e860dd965056b8b9dcdee892a88cfd5-271x54-png","_type":"reference"}},{"_type":"block","style":"normal","_key":"bcdc3ec2d57a","markDefs":[],"children":[{"marks":[],"text":"Anche qui il risultato sarà più apprezzabile provandolo direttamente, ma vi lascio l'anteprima del risultato:","_key":"b7b1fc79dce5","_type":"span"}]},{"_type":"image","_key":"2f49eb8f3fa1","asset":{"_ref":"image-cc7386ba8f88307ad6a70c01c47957abda0c278b-720x360-gif","_type":"reference"}},{"_key":"b7e6f0653f40","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Animazioni / Cambio sprite","_key":"b40ad0397679"}],"_type":"block","style":"h3"},{"style":"normal","_key":"762a0be041f7","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Inizio questo paragrafo ringraziando di cuore l'utente ","_key":"c01151acedf4"},{"_type":"span","marks":["strong"],"text":"Victroium ","_key":"766ef0fd90d5"},{"_type":"span","marks":[],"text":"che ha realizzato uno splendido asset pack per la realizzazione di questo tutorial.","_key":"163988a869b4"}],"_type":"block"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Quello che ci servirà per questa parte di tutorial saranno i seguenti sprites:","_key":"5380ef6a577a"}],"_type":"block","style":"normal","_key":"227c23977eda"},{"_key":"5c31f0a06642","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":["em"],"text":"spr_player_idle ","_key":"679bb8d70cd1"},{"_type":"span","marks":[],"text":"(il personaggio fermo)","_key":"90c4e762907b"}],"level":1,"_type":"block","style":"normal"},{"level":1,"_type":"block","style":"normal","_key":"de4f74eed873","listItem":"bullet","markDefs":[],"children":[{"text":"spr_player_walk ","_key":"46785303c1b6","_type":"span","marks":["em"]},{"_type":"span","marks":[],"text":"(personaggio che cammina)","_key":"fef43c05374d"}]},{"_type":"block","style":"normal","_key":"064e06fbebbc","listItem":"bullet","markDefs":[],"children":[{"marks":["em"],"text":"spr_player_jump ","_key":"a19560aa6ab1","_type":"span"},{"_key":"d9f636b26817","_type":"span","marks":[],"text":"(personaggio che salta)"}],"level":1},{"_key":"dc52412a3120","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":["em"],"text":"spr_player_falling ","_key":"ecb577dfc280"},{"_type":"span","marks":[],"text":"(personaggio che torna a terra dopo un salto)","_key":"525704402739"}],"level":1,"_type":"block","style":"normal"},{"children":[{"_key":"2f1e2a0a174b","_type":"span","marks":[],"text":"Sviluppo"}],"_type":"block","style":"h4","_key":"4cd893db5b72","markDefs":[]},{"style":"normal","_key":"d66588ae458d","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Apriamo ","_key":"9a1d96384e8e"},{"marks":["em"],"text":"Draw Event","_key":"170dcaf5618f","_type":"span"},{"_key":"8c6e8d61983e","_type":"span","marks":[],"text":" di "},{"_type":"span","marks":["em"],"text":"obj_player","_key":"4542f88e77d7"},{"_type":"span","marks":[],"text":":","_key":"20027b1fac94"}],"_type":"block"},{"_type":"image","_key":"b8408da57696","asset":{"_ref":"image-e8bfa11707954d94cb05ca892ed726de11902f83-744x270-png","_type":"reference"}},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Partiamo dai ","_key":"9730f87d927e"},{"marks":["strong"],"text":"movimenti a terra","_key":"66c3bc349b48","_type":"span"},{"_type":"span","marks":[],"text":" (riga 2). Se siamo a terra (","_key":"f1336d1fd845"},{"_type":"span","marks":["em"],"text":"on_ground \u003e 0","_key":"ea136a202865"},{"text":"), non stiamo saltando (","_key":"32e8d2c2eac6","_type":"span","marks":[]},{"_type":"span","marks":["em"],"text":"vsp == 0","_key":"0e32fe4b4d6e"},{"_type":"span","marks":[],"text":") e siamo in movimento (","_key":"6f43a81e68a2"},{"_type":"span","marks":["em"],"text":"hsp!=0","_key":"870d15ad7f84"},{"_type":"span","marks":[],"text":"), allora usiamo lo sprite di camminata, altrimenti usiamo quello di idle.","_key":"80e2390ccc8c"}],"_type":"block","style":"normal","_key":"68a1cc67e2aa"},{"style":"normal","_key":"f3632b1d7064","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Il ","_key":"2d464271a058"},{"_key":"e611c1395a7a","_type":"span","marks":["strong"],"text":"movimento in aria"},{"_type":"span","marks":[],"text":" è altrettanto semplice se abbiamo capito il coyote time trattato qualche paragrafo sopra: se non sono a terra (quindi ","_key":"ee8299d0056c"},{"_type":"span","marks":["em"],"text":"on_ground ","_key":"cb636b7865af"},{"_key":"e08a53d54493","_type":"span","marks":[],"text":"è minore di "},{"marks":["em"],"text":"coyote_time","_key":"50b009da9017","_type":"span"},{"_type":"span","marks":[],"text":") e la mia velocità è negativa, allora mi sto muovendo verso l'alto, altrimenti verso il basso.","_key":"88898710f84f"}],"_type":"block"},{"style":"normal","_key":"ea0e34ad5774","markDefs":[],"children":[{"text":"La riga 11 non è niente di speciale: apprezziamo solo l'utilizzo della variabile ","_key":"ec485a7ab209","_type":"span","marks":[]},{"marks":["em"],"text":"dir ","_key":"6bf0c2b89d1c","_type":"span"},{"_type":"span","marks":[],"text":"come valore di ","_key":"1b990ecd07c7"},{"_type":"span","marks":["em"],"text":"image_xscale ","_key":"9466e78ab5c5"},{"_type":"span","marks":[],"text":"per permettere al nostro personaggio di \"specchiare\" lo sprite orizzontalmente quando ci stiamo spostando a destra o sinistra. Ricordo che questa \"tecnica\" è utilizzabile solo se la origin dello sprite è centrata orizzontalmente.","_key":"235a36bdcf78"}],"_type":"block"},{"markDefs":[],"children":[{"marks":[],"text":"Con questa implementazione tutto funziona correttamente, se non per un piccolo punto: se abbiamo usato uno sprite con più frame per l'animazione del personaggio in salto o in caduta, questa continuerà a resettarsi fino al termine del salto. Per risolvere il problema ci viene in soccorso l'evento ","_key":"237d59da256b","_type":"span"},{"_type":"span","marks":["em"],"text":"Animation End.","_key":"ff92380d3001"}],"_type":"block","style":"normal","_key":"8d28ebec9a4e"},{"_key":"2038c47c976b","asset":{"_ref":"image-a373489e0361c5be99fcd747086f567640eb256c-677x146-png","_type":"reference"},"_type":"image"},{"_type":"block","style":"normal","_key":"da93cb72599e","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Questo evento viene letto quando l'animazione del nostro sprite_index termina. Anche qui la logica è molto semplice, e diciamo a GM di mantenere l'ultimo frame dello sprite che abbiamo in uso. ","_key":"6f2ce5975f15"}]},{"style":"normal","_key":"7a6f08301aab","markDefs":[],"children":[{"text":"Se vi state chiedendo perchè ci sia quel \"-1\", il motivo è semplice: ","_key":"648002b19b03","_type":"span","marks":[]},{"_type":"span","marks":["em"],"text":"image_index ","_key":"6c54d1fcc4c1"},{"_type":"span","marks":[],"text":"parte a contare i frame da 0.","_key":"461b33be7d36"}],"_type":"block"},{"children":[{"_key":"ffb6adc244f5","_type":"span","marks":[],"text":"Ecco qui il risultato finale."}],"_type":"block","style":"normal","_key":"873e0436a020","markDefs":[]},{"_type":"image","_key":"cabf1760053f","asset":{"_type":"reference","_ref":"image-1ab610ee005b920154f16538fd3b4ccaf7b15448-960x540-gif"}},{"_key":"d6328346d26f","markDefs":[],"children":[{"text":"Download","_key":"d8d8747a8657","_type":"span","marks":[]}],"_type":"block","style":"h3"},{"style":"normal","_key":"e1e566272508","markDefs":[{"_type":"link","href":"https://github.com/davidescarioni/gm-platform-starter-kit","_key":"f2b425937218"}],"children":[{"marks":[],"text":"Potete scaricare il codice sorgente di questo progetto da qui: ","_key":"479390a5e361","_type":"span"},{"_type":"span","marks":["f2b425937218"],"text":"Github","_key":"970e98067da7"}],"_type":"block"},{"children":[{"_type":"span","marks":[],"text":"Conclusione","_key":"f9c770e75731"}],"_type":"block","style":"h3","_key":"0d4e5a0c570f","markDefs":[]},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Spero che il tutorial sia risultato chiaro: nessuna di queste tecniche è davvero ","_key":"a695ba2c6d35"},{"_type":"span","marks":["em"],"text":"necessaria","_key":"44d15e35b21f"},{"_type":"span","marks":[],"text":" per la realizzazione di un platform, ma come avete potuto apprezzare, con poco codice siamo riusciti a creare una base \"robusta\" e più aggiornata della maggior parte dei tutorial che si trovano in rete.","_key":"7c9e4be2d29e"}],"_type":"block","style":"normal","_key":"2cec14e1733a"},{"_type":"block","style":"normal","_key":"68368f299237","markDefs":[{"_type":"link","href":"https://discord.gg/0wKBBPIbX2r3S32a","_key":"95c25a78c6d3"}],"children":[{"_key":"8fe8e9153897","_type":"span","marks":[],"text":"Per qualsiasi domanda non fatevi problemi a venirci a trovare su "},{"_type":"span","marks":["95c25a78c6d3"],"text":"Discord","_key":"cc6feca0d97a"},{"_type":"span","marks":[],"text":" .","_key":"12e1a5f26e89"}]},{"style":"normal","_key":"b723555423c2","markDefs":[],"children":[{"text":"Alla prossima!","_key":"cbf557c3d440","_type":"span","marks":[]}],"_type":"block"}],"categories":["Tutorial"],"publishedAt":"2023-10-17T05:00:34.361Z","title":"Sviluppare un platform nel 2023","slug":{"current":"platform-2023","_type":"slug"}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"platform-2023"},"buildId":"wNBS7YDG9BXCaB6P2K7zG","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>