<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Traduzione e internazionalizzazione con GameMaker | GameMaker Italia</title><meta property="og:title" content="Traduzione e internazionalizzazione con GameMaker"/><meta property="og:description" content="Come aggiungere il supporto multilingua"/><meta name="description" content="Come aggiungere il supporto multilingua"/><meta property="og:image" content="https://cdn.sanity.io/images/idfqw720/production/eaff6f7ae2f7ea3af47d249ef6a5646402ac18c3-1278x716.png"/><meta name="next-head-count" content="7"/><link rel="preload" href="/_next/static/css/136ee7bf1f3522eb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/136ee7bf1f3522eb.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-6c23fe16c86c384e.js" defer=""></script><script src="/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/_next/static/chunks/main-1a5ef2ee6643c975.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b3e838b8614f24e3.js" defer=""></script><script src="/_next/static/chunks/935-465bd4230b1ee5d4.js" defer=""></script><script src="/_next/static/chunks/916-b3009cdb4ae9914e.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-599a0a7c3f1fdcfe.js" defer=""></script><script src="/_next/static/qexUuuEhOP2RLkayQyDdC/_buildManifest.js" defer=""></script><script src="/_next/static/qexUuuEhOP2RLkayQyDdC/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="bg-white"><div class="md:flex md:justify-between p-5 max-w-7xl mx-auto"><div class="block md:flex md:space-x-5 items-center w-full gap-5"><div class="flex items-center justify-between space-x-5"><a href="/" title="GameMaker Italia Home Page" class="flex gap-2"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28.7 28.7" xml:space="preserve" class="w-9 object-contain cursor-pointer"><g fill-opacity="1" stroke-dasharray="none" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="1" transform="translate(-1.65 -1.65)"><path fill="#f20d0d" stroke="none" stroke-width="1" d="M12 6l4-4 14 14h-8z" vector-effect="non-scaling-stroke"></path><path fill="#1eb464" stroke="none" stroke-width="1" d="M6 12l14 14-4 4L2 16z" vector-effect="non-scaling-stroke"></path><path fill="#fff" stroke="none" stroke-width="1" d="M10 16l6-6-4-4-6 6zm6 6v-6h6v8l-2 2z" vector-effect="non-scaling-stroke"></path><path fill="none" stroke="#000" stroke-width="0.7" d="M16 2l14 14h-8l-6-6-6 6 6 6v-6h6v8l-6 6L2 16z"></path></g></svg><span class="text-3xl hidden lg:block ">GameMaker Italia</span></a><button class="md:hidden relative"><div class="space-y-2"><div class="w-8 h-0.5 bg-gray-600"></div><div class="w-8 h-0.5 bg-gray-600"></div><div class="w-8 h-0.5 bg-gray-600"></div></div></button></div><ul class="ml-0 text-md flex flex-col items-start md:flex-row md:justify-end md:items-center space-x-5 flex-1 z-1 md:z-auto absolute md:static w-full bg-white left-0"><li class="border-transparent w-full md:w-auto hover:underline decoration-2 duration-500 my-6 ml-5 md:my-0"><a href="/blog/">Blog</a></li><li class="border-transparent w-full md:w-auto hover:underline decoration-2 duration-500 my-6 md:my-0"><a href="/competizioni/">Competizioni</a></li><li class="border-transparent w-full md:w-auto hover:underline decoration-2 duration-500 my-6 md:my-0"><a href="https://gmiscores.altervista.org">GMIScores</a></li><li class="border-transparent w-full md:w-auto hover:underline decoration-2 duration-500 my-6 md:my-0"><a href="https://gmitalia.altervista.org/site/risorse-2/">Risorse</a></li><li class="my-6 md:my-0"><div class="items-center justify-end"><div class="flex justify-center items-center text-white bg-gray-800 px-4 py-2 rounded-full leading-none hover:shadow-lg hover:contrast-200 transition-all"><a href="https://discord.gg/0wKBBPIbX2r3S32a">Entra su Discord</a></div></div></li></ul></div></div></header><div class="blog-post__wrapper"><article class="blog-post blog-post--tutorial"><h2 class="blog-post__title">Traduzione e internazionalizzazione con GameMaker</h2><img class="blog-post__main-image" src="https://cdn.sanity.io/images/idfqw720/production/eaff6f7ae2f7ea3af47d249ef6a5646402ac18c3-1278x716.png" alt="Traduzione e internazionalizzazione con GameMaker"/><div><div class="blog-post__metadata"><p>Scritto da <!-- -->AlexoFalco<!-- --></p><p>14 Giugno 2023</p></div></div><div class="blog-post__text"><div><p><em>Ciao gente!<!-- --></em></p><p>Benvenuti su GameMakerItalia. In questo articolo tecnico andremo a coprire un aspetto a volte sottovalutato dello sviluppo di un videogioco ma che nasconde alcune insidie: <!-- --><strong>il supporto al multilingua<!-- --></strong>.<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/f0f92326ebbe6a7ebf6ce1840467cf8b3bcdad95-1125x750.png"/></figure><p>Sicuramente scrivere i testi e i contenuti del proprio gioco in inglese può &quot;risolvere&quot; alla radice il problema della gestione della traduzione. Ma se è necessario supportare il multilingua o aggiungere una lingua secondaria senza perdere il contenuto già scritto in precedente questo articolo ci può venire sicuramente in nostro aiuto.<!-- --></p><p>Basta chiacchiere e vediamo subito un pò di... teoria<!-- --></p><h3>i18n<!-- --></h3><p>Citando direttamente <!-- --><a href="https://en.wikipedia.org/wiki/Internationalization_and_localization#References">wikipedia<!-- --></a>, possiamo capire che:<!-- --></p><blockquote>In computing, internationalization and localization (American) or internationalisation and localisation (British English), often abbreviated i18n and L10n, are means of adapting computer software to different languages, regional peculiarities and technical requirements of a target locale.<!-- --></blockquote><p>In particolare possiamo dividere il processo in due macro categorie:<!-- --></p><ul><li><strong>L&#x27;internazionalizzazione <!-- --></strong>(i18n) è il processo in un software (e quindi in un gioco) di adattarsi e supportare diverse tipologie di lingue e regioni.<!-- --></li><li><strong>La localizzazione<!-- --></strong> (l10n) invece è l&#x27;adattamento dell&#x27;interno dell&#x27;internazionalizzazione di supportare specifici varianti, come potrebbero essere i dialetti per l&#x27;italiano ma anche l&#x27;inglese americano/inglese britannico.<!-- --></li></ul><p>A noi in questo momento ci interessa rimanere concentrati sull&#x27;internazionalizzazione, quindi supportare tante lingue. Vediamo come.<!-- --></p><h3>Il nostro dizionario<!-- --></h3><p>Partiamo da un caso semplice: supportare il nostro gioco sia in italiano ed in inglese, partendo dai contenuti in italiano. Primissima cosa da fare è scrivere due &quot;Database&quot;, uno per lingua. Scrivo Database tra apici per intenderci di cosa stiamo parlando ma tecnicamente possono essere banalmente due file testuali, scritti in json.<!-- --></p><p>Tutti i file json dovranno avere la stessa struttura, con ognuno il valore di ogni parola o frase tradotta.<!-- --></p><p>Per essere più chiari con un esempio, facciamo finta che dobbiamo tradurre questa pagina, che consiste nella schermata principale di un menu ( gioco sviluppato con GameMaker, ovviamente :D )<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/4cd514cd2d287e38f2c8554a9d658a42201bf0c0-1920x1080.png"/></figure><p>Troviamo subito le seguenti parole/frasi da tradurre<!-- --></p><ul><li>Menu principale<!-- --></li><li>Competizione<!-- --></li><li>Time attack<!-- --></li><li>Classifica<!-- --></li><li>Crediti<!-- --></li><li>Opzioni<!-- --></li><li>Esci<!-- --></li><li>Frecce - seleziona<!-- --></li><li>ENTER - scegli<!-- --></li></ul><p>Il nostro json lo potremmo strutturare in questo modo:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/5e5530cada1a90c65d2135e03d6902d622abb562-394x281.png"/></figure><p></p><p>Essendo il json relativo alle risorse in italiano possiamo rinominarlo in IT.json e metterlo subito nella cartella IncludesFiles del nostro progetto Game Maker.<!-- --></p><p>La struttura del file json è fondamentale: dividendo correttamente gli oggetti e le varie chiavi possiamo facilmente ritrovare una risorsa tramite una semplice navigazione del file. Mettere tutte le chiavi e le risorse in piano senza oggetti è sicuramente più semplice da scrivere ma sei sicuro che poi nell&#x27;atto pratico non ti perderai tra i vari nomi?<!-- --></p><p>Per esempio se volessi ottenere il valore tradotto per il pulsante opzioni la chiave sarebbe:<!-- --></p><blockquote>&quot;menuPrincipale.azioni.opzioni&quot;<!-- --></blockquote><p><em><strong>Tip:<!-- --></strong> un eccessiva organizzazione del file json secondo la mia esperienza è peggio tanto quanto una poca organizzazione. Il mio consiglio personale è tenere la profondità della chiave non più di 5-6 elementi<!-- --></em></p><p>Possiamo pensare dopo alla creazione degli altri dizionari per le altre lingue, per ora andiamo avanti.<!-- --></p><h3>Caricamento del dizionario<!-- --></h3><p>Nel nostro progetto dovremmo inserire il seguente snippet:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/bf5b3cd5bd5020ed463f80100379ce119bdb666e-440x53.png"/></figure><p><em><strong>Tip <!-- --></strong>questo codice va inserito in un punto iniziale del flusso del gioco, prima di qualsiasi altra cosa. Un oggetto globale istanziato per primo o prima di avviare qualsiasi schermata di gioco potrebbe andar bene.<!-- --></em></p><p><strong>os_get_language<!-- --></strong> permette di capire la lingua corrente del sistema operativo. ritorna un codice che possiamo usare per capire quale dizionario caricare. A questo punto possiamo effettivamente caricare il nostro dizionario.<!-- --></p><p>Creiamo uno script e ci andiamo ad incollare il seguente codice:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/766c2b3f2c97aa6a02e6b62484c658914bbc6dd0-768x542.png"/></figure><p>in base alla chiave passata va a leggere tra gli include files il corretto dizionario e ritorna una struct valorizzata correttamente, che andremmo a salvare in una variabile globale.<!-- --></p><h3>Utilizzo del dizionario<!-- --></h3><p>Tutto bello... ma come si fa a leggere la giusta chiave? Leggere la variabile globale <!-- --><strong>language <!-- --></strong>in quanto struct non è complesso ma sicuramente possiamo scrivere una funzione di questo tipo:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/83add0441adc30e66ef5ddecb66c298697c8d1c7-708x460.png"/></figure><p>Questa funzione, posizionata in uno script, possiamo usarla liberamente in un oggetto qualsiasi, per esempio nel create dell&#x27;oggetto menu:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/df36c4992ad8dc6da99847765e9f632831abaed2-565x51.png"/></figure><p>in questo modo la funzione accetta come ingresso unicamente la chiave definita precedentemente nel dizionario, spezza la stringa per il carattere punto e itera tutte le sotto chiavi finché non trova la risorsa voluta restituendola, altrimenti restituisce la chiave stessa<!-- --></p><h3>La seconda lingua<!-- --></h3><p>A questo punto siamo pronti per inserire un altro dizionario, per esempio la lingua inglese<!-- --><br/>Creiamo un altro file json, da inserire nella stessa cartella del file it.json. Lo possiamo scrivere partendo dalla stessa struttura di quello già esistente, così non possiamo sbagliare:<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/0ef3cee9a4d683e321e99d4900b85f74cf05b242-365x342.png"/></figure><p><em><strong>Tip<!-- --></strong> i file json devono essere uguali nella struttura, come ho già spiegato. Ma nel caso ci sia un errore la funzione <!-- --><strong>getLanguageValue <!-- --></strong>non va in errore, restituendo la chiave al posto del valore non trovato. Utile!<!-- --></em></p><h3>Risorse dinamiche con placeholder<!-- --></h3><p>A volte è necessario avere dei valori un pò dinamici nelle traduzioni, per visualizzare nel gioco sia un testo fissato sia un testo che cambia dinamicamente<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/637a5049d3c14cf95e2bfe578a2a3107ca5b213b-1366x768.png"/></figure><p>Il testo evidenziato nel rettangolo in alto a sinistra mostra il numero di giro corrente in questo gioco di corse. La scritta è chiaramente composta da due parti:<!-- --></p><ul><li><strong>&quot;Giro: &quot;<!-- --></strong> che corrisponde in una parte statica, da tradurre<!-- --></li><li><strong>&quot;2/10&quot;<!-- --></strong> che corrisponde in una parte dinamica, una variabile di gioco non da tradurre<!-- --></li></ul><p><strong><em>Come fare?<!-- --></em></strong></p><p>Possiamo ampliare il nostro dizionario quanto segue<!-- --></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/8e3b36d765186c139d3fe282a8787d214a13d293-457x445.png"/></figure><p>e la controparte in inglese in questo modo<!-- --><br/></p><figure><img src="https://cdn.sanity.io/images/idfqw720/production/e8beba8aa29838268515a9278bd365e3b78a75f7-463x481.png"/></figure><p><em><strong>Tip:<!-- --></strong> Non mi stuferò mai di dirlo, aggiornate sempre tutti i dizionari!<!-- --></em></p><p>A questo punto possiamo andare nel nostro oggetto relativo a disegnare durante la partita l&#x27;ui e scrivere una cosa del genere<!-- --></p><p><strong>obUI.CREATE<!-- --></strong></p><blockquote>labelGiroRaw = loadDictionaryValue(&quot;game.ui.giroCorrente&quot;)<!-- --></blockquote><p><strong>obUI.DRAW<!-- --></strong></p><blockquote>labelGiro = string(labelGiroRaw, giroCorrente, giroTotale)<!-- --></blockquote><p>In questo modo possiamo sostituire i nostri placeholder ( {0} e {1} ) con le relative variabili direttamente in game e sfruttare la risorsa tradotta nel modo corretto.<!-- --><br/>Inoltre, spezzando il codice nel Create e nel Draw ( e non mettendo tutto nel Draw con una singola variabile ) separo le logiche, caricando dal dizionario il valore &quot;grezzo&quot; una volta sola e potendolo utilizzare quanto voglio sfruttando la variale d&#x27;appoggio labelGiroRaw<!-- --></p><h3>Cambiare lingua<!-- --></h3><p>L&#x27;azione di cambiare lingua a questo punto risulta molto semplice. Basta cambiare chiave e ricaricare il giusto dizionario.<!-- --><br/>Per esempio nell&#x27;evento click del nostro oggetto pulsante:<!-- --></p><p><strong>obLanguageITButtonMenu.MOUSE_PRESS_EVENT<!-- --></strong></p><blockquote>global.language = &quot;it&quot;;<!-- --><br/>global.languageDict = loadDictionary(global.language)<!-- --></blockquote><p><strong>obLanguageENButtonMenu.MOUSE_PRESS_EVENT<!-- --></strong></p><blockquote>global.language = &quot;en&quot;;<!-- --><br/>global.languageDict = loadDictionary(global.language)<!-- --></blockquote><h3>Links risorse<!-- --></h3><p>Qui di sotto lascio un po&#x27; di links e risorse utili, fatemi sapere se avete qualche consiglio su come migliorare la tecnica o se avete domande, vi risponderò sicuramente sul canale <!-- --><a href="https://discord.com/invite/0wKBBPIbX2r3S32a">Discord<!-- --></a> di GMI!<!-- --></p><p><a href="https://1drv.ms/u/s!AsUaJR7Xki_Wgb5zugzmGc83WXs-_Q?e=MsCyNM">Download al progetto di esempio (GMS2.3)<!-- --></a>  <!-- --></p><p></p></div></div></article></div><div class="footer"><div class="footer__body"><div class="footer__social"><div>Seguici su:</div><a href="https://www.youtube.com/channel/UCee7hFC_VtQ_gnX5J2tMTHg" title="YouTube"><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"></path><path d="m10 15 5-3-5-3z"></path></svg></div></a><a href="https://twitter.com/GameMakerIta" title="Twitter"><div><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584l-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"></path></svg></div></a><a href="https://discord.gg/0wKBBPIbX2r3S32a" title="Discord"><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02zM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12zm6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12z"></path></svg></div></a></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"publishedAt":"2023-06-14T11:22:00.000Z","title":"Traduzione e internazionalizzazione con GameMaker","slug":{"current":"traduzione-e-internazionalizzazione-con-game-maker","_type":"slug"},"author":{"name":"AlexoFalco","image":{"_type":"image","asset":{"_ref":"image-d0cd4225b988c73e27169e72a64212a2fef93ee2-400x400-jpg","_type":"reference"}}},"comments":[],"description":"Come aggiungere il supporto multilingua","_id":"718a558b-1652-478a-b7ee-37623b3f103f","_createdAt":"2023-06-14T12:20:20Z","body":[{"markDefs":[],"children":[{"_type":"span","marks":["em"],"text":"Ciao gente!","_key":"230f53a46d8b0"}],"_type":"block","style":"normal","_key":"4c9ba64940b5"},{"_type":"block","style":"normal","_key":"a04f0f58e57a","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Benvenuti su GameMakerItalia. In questo articolo tecnico andremo a coprire un aspetto a volte sottovalutato dello sviluppo di un videogioco ma che nasconde alcune insidie: ","_key":"dbefbe99b1d20"},{"_type":"span","marks":["strong"],"text":"il supporto al multilingua","_key":"356ae719226f"},{"_key":"91d5b83f5d30","_type":"span","marks":[],"text":"."}]},{"_type":"image","_key":"71a1fc0ffe32","asset":{"_ref":"image-f0f92326ebbe6a7ebf6ce1840467cf8b3bcdad95-1125x750-png","_type":"reference"}},{"_type":"block","style":"normal","_key":"a16149e32d8c","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Sicuramente scrivere i testi e i contenuti del proprio gioco in inglese può \"risolvere\" alla radice il problema della gestione della traduzione. Ma se è necessario supportare il multilingua o aggiungere una lingua secondaria senza perdere il contenuto già scritto in precedente questo articolo ci può venire sicuramente in nostro aiuto.","_key":"1b7d6e454a640"}]},{"children":[{"text":"Basta chiacchiere e vediamo subito un pò di... teoria","_key":"18bdb4c23fa20","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"508b6633766f","markDefs":[]},{"_type":"block","style":"h3","_key":"5dc1eafd60ca","markDefs":[],"children":[{"_type":"span","marks":[],"text":"i18n","_key":"aec617ca791e0"}]},{"children":[{"_type":"span","marks":[],"text":"Citando direttamente ","_key":"c6e8a7324cec"},{"_type":"span","marks":["6b0a502009aa"],"text":"wikipedia","_key":"d6594492a042"},{"text":", possiamo capire che:","_key":"ba19d62a3035","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"77abab4a3bc0","markDefs":[{"_key":"6b0a502009aa","_type":"link","href":"https://en.wikipedia.org/wiki/Internationalization_and_localization#References"}]},{"style":"blockquote","_key":"2474979363f4","markDefs":[],"children":[{"_type":"span","marks":[],"text":"In computing, internationalization and localization (American) or internationalisation and localisation (British English), often abbreviated i18n and L10n, are means of adapting computer software to different languages, regional peculiarities and technical requirements of a target locale.","_key":"17f2d9dacf820"}],"_type":"block"},{"_type":"block","style":"normal","_key":"46032d7b0316","markDefs":[],"children":[{"text":"In particolare possiamo dividere il processo in due macro categorie:","_key":"8647b612e6ca","_type":"span","marks":[]}]},{"level":1,"_type":"block","style":"normal","_key":"2cafb528773f","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":["strong"],"text":"L'internazionalizzazione ","_key":"2ad97c255b69"},{"_type":"span","marks":[],"text":"(i18n) è il processo in un software (e quindi in un gioco) di adattarsi e supportare diverse tipologie di lingue e regioni.","_key":"f2a7a7fe2160"}]},{"level":1,"_type":"block","style":"normal","_key":"dca16acc7e59","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":["strong"],"text":"La localizzazione","_key":"27266991b75f"},{"text":" (l10n) invece è l'adattamento dell'interno dell'internazionalizzazione di supportare specifici varianti, come potrebbero essere i dialetti per l'italiano ma anche l'inglese americano/inglese britannico.","_key":"17448c80bcca","_type":"span","marks":[]}]},{"children":[{"text":"A noi in questo momento ci interessa rimanere concentrati sull'internazionalizzazione, quindi supportare tante lingue. Vediamo come.","_key":"0aa983158cfa0","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"4296195f2cc6","markDefs":[]},{"children":[{"_type":"span","marks":[],"text":"Il nostro dizionario","_key":"efffe92086d8"}],"_type":"block","style":"h3","_key":"2b9af7c4970d","markDefs":[]},{"children":[{"marks":[],"text":"Partiamo da un caso semplice: supportare il nostro gioco sia in italiano ed in inglese, partendo dai contenuti in italiano. Primissima cosa da fare è scrivere due \"Database\", uno per lingua. Scrivo Database tra apici per intenderci di cosa stiamo parlando ma tecnicamente possono essere banalmente due file testuali, scritti in json.","_key":"6dbb782ce77b0","_type":"span"}],"_type":"block","style":"normal","_key":"e305a04aeeec","markDefs":[]},{"markDefs":[],"children":[{"marks":[],"text":"Tutti i file json dovranno avere la stessa struttura, con ognuno il valore di ogni parola o frase tradotta.","_key":"2e387ed8c1b90","_type":"span"}],"_type":"block","style":"normal","_key":"bad31410145e"},{"markDefs":[],"children":[{"_key":"0e17e4cbd0100","_type":"span","marks":[],"text":"Per essere più chiari con un esempio, facciamo finta che dobbiamo tradurre questa pagina, che consiste nella schermata principale di un menu ( gioco sviluppato con GameMaker, ovviamente :D )"}],"_type":"block","style":"normal","_key":"3c50e89c9682"},{"_type":"image","_key":"92fbc37d3dea","asset":{"_ref":"image-4cd514cd2d287e38f2c8554a9d658a42201bf0c0-1920x1080-png","_type":"reference"}},{"markDefs":[],"children":[{"marks":[],"text":"Troviamo subito le seguenti parole/frasi da tradurre","_key":"5cfab1c10e1f","_type":"span"}],"_type":"block","style":"normal","_key":"efb17f29113c"},{"_type":"block","style":"normal","_key":"96001f8d28f2","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Menu principale","_key":"8b93004cbeab"}],"level":1},{"children":[{"marks":[],"text":"Competizione","_key":"1521c7c8f7a8","_type":"span"}],"level":1,"_type":"block","style":"normal","_key":"dca76af2be49","listItem":"bullet","markDefs":[]},{"children":[{"_type":"span","marks":[],"text":"Time attack","_key":"ceea041499be"}],"level":1,"_type":"block","style":"normal","_key":"6977e91532d3","listItem":"bullet","markDefs":[]},{"level":1,"_type":"block","style":"normal","_key":"a8f77cb12472","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Classifica","_key":"c267fa271ea3"}]},{"style":"normal","_key":"d6a02406c8e9","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Crediti","_key":"688a0b05346d"}],"level":1,"_type":"block"},{"children":[{"marks":[],"text":"Opzioni","_key":"2042fb6da309","_type":"span"}],"level":1,"_type":"block","style":"normal","_key":"4fe863c69adb","listItem":"bullet","markDefs":[]},{"_key":"26b239857093","listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Esci","_key":"f31c656a72d0"}],"level":1,"_type":"block","style":"normal"},{"children":[{"text":"Frecce - seleziona","_key":"acaf58e140ec","_type":"span","marks":[]}],"level":1,"_type":"block","style":"normal","_key":"34a26f544656","listItem":"bullet","markDefs":[]},{"level":1,"_type":"block","style":"normal","_key":"557796c75f82","listItem":"bullet","markDefs":[],"children":[{"text":"ENTER - scegli","_key":"2a7ca4841793","_type":"span","marks":[]}]},{"children":[{"_type":"span","marks":[],"text":"Il nostro json lo potremmo strutturare in questo modo:","_key":"6821e53c7c690"}],"_type":"block","style":"normal","_key":"a71cb86316ce","markDefs":[]},{"_key":"acb6181317b6","asset":{"_ref":"image-5e5530cada1a90c65d2135e03d6902d622abb562-394x281-png","_type":"reference"},"_type":"image"},{"style":"normal","_key":"9e99242ed2b6","markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"26a07140359c"}],"_type":"block"},{"style":"normal","_key":"965964450734","markDefs":[],"children":[{"marks":[],"text":"Essendo il json relativo alle risorse in italiano possiamo rinominarlo in IT.json e metterlo subito nella cartella IncludesFiles del nostro progetto Game Maker.","_key":"5af881c49ca30","_type":"span"}],"_type":"block"},{"children":[{"_type":"span","marks":[],"text":"La struttura del file json è fondamentale: dividendo correttamente gli oggetti e le varie chiavi possiamo facilmente ritrovare una risorsa tramite una semplice navigazione del file. Mettere tutte le chiavi e le risorse in piano senza oggetti è sicuramente più semplice da scrivere ma sei sicuro che poi nell'atto pratico non ti perderai tra i vari nomi?","_key":"215efdb4a15f0"}],"_type":"block","style":"normal","_key":"b066bf84ec58","markDefs":[]},{"children":[{"_type":"span","marks":[],"text":"Per esempio se volessi ottenere il valore tradotto per il pulsante opzioni la chiave sarebbe:","_key":"ea6be6fa4a5b0"}],"_type":"block","style":"normal","_key":"ebfde506ddfe","markDefs":[]},{"markDefs":[],"children":[{"marks":[],"text":"\"menuPrincipale.azioni.opzioni\"","_key":"07a7932d4449","_type":"span"}],"_type":"block","style":"blockquote","_key":"fb5a107d2882"},{"markDefs":[],"children":[{"text":"Tip:","_key":"8954a5db490b0","_type":"span","marks":["strong","em"]},{"_type":"span","marks":["em"],"text":" un eccessiva organizzazione del file json secondo la mia esperienza è peggio tanto quanto una poca organizzazione. Il mio consiglio personale è tenere la profondità della chiave non più di 5-6 elementi","_key":"b32512706e86"}],"_type":"block","style":"normal","_key":"542de1569446"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Possiamo pensare dopo alla creazione degli altri dizionari per le altre lingue, per ora andiamo avanti.","_key":"d3628099953e0"}],"_type":"block","style":"normal","_key":"2e9861d0645f"},{"markDefs":[],"children":[{"_key":"7dcefd3729d70","_type":"span","marks":[],"text":"Caricamento del dizionario"}],"_type":"block","style":"h3","_key":"f9731c604789"},{"children":[{"marks":[],"text":"Nel nostro progetto dovremmo inserire il seguente snippet:","_key":"4d7a12fb4bcf0","_type":"span"}],"_type":"block","style":"normal","_key":"9f1ac5008486","markDefs":[]},{"_type":"image","_key":"a02ba695c27c","asset":{"_ref":"image-bf5b3cd5bd5020ed463f80100379ce119bdb666e-440x53-png","_type":"reference"}},{"markDefs":[],"children":[{"_key":"36be5265e1300","_type":"span","marks":["strong","em"],"text":"Tip "},{"_type":"span","marks":["em"],"text":"questo codice va inserito in un punto iniziale del flusso del gioco, prima di qualsiasi altra cosa. Un oggetto globale istanziato per primo o prima di avviare qualsiasi schermata di gioco potrebbe andar bene.","_key":"68c6529158ad"}],"_type":"block","style":"normal","_key":"a2d3eb535f3d"},{"markDefs":[],"children":[{"_type":"span","marks":["strong"],"text":"os_get_language","_key":"926eb83ea3fa0"},{"text":" permette di capire la lingua corrente del sistema operativo. ritorna un codice che possiamo usare per capire quale dizionario caricare. A questo punto possiamo effettivamente caricare il nostro dizionario.","_key":"369e99a44358","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"727070d9d9f8"},{"_type":"block","style":"normal","_key":"79daebcac71b","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Creiamo uno script e ci andiamo ad incollare il seguente codice:","_key":"06c7828f37a30"}]},{"_type":"image","_key":"3f921bd89dac","asset":{"_ref":"image-766c2b3f2c97aa6a02e6b62484c658914bbc6dd0-768x542-png","_type":"reference"}},{"markDefs":[],"children":[{"_key":"320826fbcb680","_type":"span","marks":[],"text":"in base alla chiave passata va a leggere tra gli include files il corretto dizionario e ritorna una struct valorizzata correttamente, che andremmo a salvare in una variabile globale."}],"_type":"block","style":"normal","_key":"4e9de1a03820"},{"_key":"b9dc113c7133","markDefs":[],"children":[{"text":"Utilizzo del dizionario","_key":"0a7ab9c8889f0","_type":"span","marks":[]}],"_type":"block","style":"h3"},{"_key":"00809f0ebf51","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Tutto bello... ma come si fa a leggere la giusta chiave? Leggere la variabile globale ","_key":"da1768d31eb50"},{"_type":"span","marks":["strong"],"text":"language ","_key":"ae4af96b39db"},{"_type":"span","marks":[],"text":"in quanto struct non è complesso ma sicuramente possiamo scrivere una funzione di questo tipo:","_key":"9c1a6a9a45c7"}],"_type":"block","style":"normal"},{"_type":"image","_key":"c9ce1422f3de","asset":{"_ref":"image-83add0441adc30e66ef5ddecb66c298697c8d1c7-708x460-png","_type":"reference"}},{"style":"normal","_key":"6e8a6145ce53","markDefs":[],"children":[{"_key":"46e1b3bce5030","_type":"span","marks":[],"text":"Questa funzione, posizionata in uno script, possiamo usarla liberamente in un oggetto qualsiasi, per esempio nel create dell'oggetto menu:"}],"_type":"block"},{"_type":"image","_key":"481afe4c306b","asset":{"_ref":"image-df36c4992ad8dc6da99847765e9f632831abaed2-565x51-png","_type":"reference"}},{"style":"normal","_key":"21c55d3e2689","markDefs":[],"children":[{"text":"in questo modo la funzione accetta come ingresso unicamente la chiave definita precedentemente nel dizionario, spezza la stringa per il carattere punto e itera tutte le sotto chiavi finché non trova la risorsa voluta restituendola, altrimenti restituisce la chiave stessa","_key":"e444779830b00","_type":"span","marks":[]}],"_type":"block"},{"_type":"block","style":"h3","_key":"76e0879d971c","markDefs":[],"children":[{"_type":"span","marks":[],"text":"La seconda lingua","_key":"07938c3898dd0"}]},{"children":[{"marks":[],"text":"A questo punto siamo pronti per inserire un altro dizionario, per esempio la lingua inglese\nCreiamo un altro file json, da inserire nella stessa cartella del file it.json. Lo possiamo scrivere partendo dalla stessa struttura di quello già esistente, così non possiamo sbagliare:","_key":"cff8ed753f06","_type":"span"}],"_type":"block","style":"normal","_key":"ef1669810035","markDefs":[]},{"_type":"image","_key":"0305fb34d135","asset":{"_ref":"image-0ef3cee9a4d683e321e99d4900b85f74cf05b242-365x342-png","_type":"reference"}},{"_type":"block","style":"normal","_key":"621ba1ccebdd","markDefs":[],"children":[{"_type":"span","marks":["strong","em"],"text":"Tip","_key":"ba56d6b907070"},{"_type":"span","marks":["em"],"text":" i file json devono essere uguali nella struttura, come ho già spiegato. Ma nel caso ci sia un errore la funzione ","_key":"c98a75ddf725"},{"_key":"49273e93dbe0","_type":"span","marks":["strong","em"],"text":"getLanguageValue "},{"_type":"span","marks":["em"],"text":"non va in errore, restituendo la chiave al posto del valore non trovato. Utile!","_key":"2ab3af2d3736"}]},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Risorse dinamiche con placeholder","_key":"3333d0d5d62d0"}],"_type":"block","style":"h3","_key":"866c94b95fa8"},{"_key":"635c3dafad4b","markDefs":[],"children":[{"_type":"span","marks":[],"text":"A volte è necessario avere dei valori un pò dinamici nelle traduzioni, per visualizzare nel gioco sia un testo fissato sia un testo che cambia dinamicamente","_key":"c34feb0e1d7d0"}],"_type":"block","style":"normal"},{"_type":"image","_key":"a323133f0da3","asset":{"_ref":"image-637a5049d3c14cf95e2bfe578a2a3107ca5b213b-1366x768-png","_type":"reference"}},{"markDefs":[],"children":[{"_key":"0036972a30b70","_type":"span","marks":[],"text":"Il testo evidenziato nel rettangolo in alto a sinistra mostra il numero di giro corrente in questo gioco di corse. La scritta è chiaramente composta da due parti:"}],"_type":"block","style":"normal","_key":"8652ec59a9c9"},{"children":[{"_type":"span","marks":["strong"],"text":"\"Giro: \"","_key":"304c3f9d6b26"},{"_type":"span","marks":[],"text":" che corrisponde in una parte statica, da tradurre","_key":"3ce032ca9c12"}],"level":1,"_type":"block","style":"normal","_key":"625b1ec11279","listItem":"bullet","markDefs":[]},{"listItem":"bullet","markDefs":[],"children":[{"_type":"span","marks":["strong"],"text":"\"2/10\"","_key":"ef40101b42b0"},{"_type":"span","marks":[],"text":" che corrisponde in una parte dinamica, una variabile di gioco non da tradurre","_key":"7de67d0df6f7"}],"level":1,"_type":"block","style":"normal","_key":"aa691cd3bbfa"},{"markDefs":[],"children":[{"_key":"0dac1ee87e14","_type":"span","marks":["strong","em"],"text":"Come fare?"}],"_type":"block","style":"normal","_key":"cec342921981"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Possiamo ampliare il nostro dizionario quanto segue","_key":"9b70558649fd0"}],"_type":"block","style":"normal","_key":"027e47e2aaf6"},{"_type":"image","_key":"a1da3d616c42","asset":{"_ref":"image-8e3b36d765186c139d3fe282a8787d214a13d293-457x445-png","_type":"reference"}},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"e la controparte in inglese in questo modo\n","_key":"4a8bdb340c870"}],"_type":"block","style":"normal","_key":"b2fd4aa773b8"},{"_type":"image","_key":"16df644e2dd2","asset":{"_ref":"image-e8beba8aa29838268515a9278bd365e3b78a75f7-463x481-png","_type":"reference"}},{"markDefs":[],"children":[{"_type":"span","marks":["strong","em"],"text":"Tip:","_key":"2c35d774ff6f0"},{"_type":"span","marks":["em"],"text":" Non mi stuferò mai di dirlo, aggiornate sempre tutti i dizionari!","_key":"5b19ad62e964"}],"_type":"block","style":"normal","_key":"fc8dc4edb1be"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"A questo punto possiamo andare nel nostro oggetto relativo a disegnare durante la partita l'ui e scrivere una cosa del genere","_key":"651fbc3e4baf0"}],"_type":"block","style":"normal","_key":"3be5d0d53648"},{"_type":"block","style":"normal","_key":"7f31743aa3f6","markDefs":[],"children":[{"text":"obUI.CREATE","_key":"cba550edb22c","_type":"span","marks":["strong"]}]},{"_type":"block","style":"blockquote","_key":"16fa0d762323","markDefs":[],"children":[{"_type":"span","marks":[],"text":"labelGiroRaw = loadDictionaryValue(\"game.ui.giroCorrente\")","_key":"cf9f6900555c"}]},{"markDefs":[],"children":[{"_type":"span","marks":["strong"],"text":"obUI.DRAW","_key":"2122002c7a4e0"}],"_type":"block","style":"normal","_key":"a64175de0778"},{"children":[{"_key":"e83917527f46","_type":"span","marks":[],"text":"labelGiro = string(labelGiroRaw, giroCorrente, giroTotale)"}],"_type":"block","style":"blockquote","_key":"d26c028383f9","markDefs":[]},{"style":"normal","_key":"704b35cd24cb","markDefs":[],"children":[{"_type":"span","marks":[],"text":"In questo modo possiamo sostituire i nostri placeholder ( {0} e {1} ) con le relative variabili direttamente in game e sfruttare la risorsa tradotta nel modo corretto.\nInoltre, spezzando il codice nel Create e nel Draw ( e non mettendo tutto nel Draw con una singola variabile ) separo le logiche, caricando dal dizionario il valore \"grezzo\" una volta sola e potendolo utilizzare quanto voglio sfruttando la variale d'appoggio labelGiroRaw","_key":"2cbd80002f240"}],"_type":"block"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Cambiare lingua","_key":"f9abfa4f3c0e0"}],"_type":"block","style":"h3","_key":"7d591bfd5e7d"},{"markDefs":[],"children":[{"text":"L'azione di cambiare lingua a questo punto risulta molto semplice. Basta cambiare chiave e ricaricare il giusto dizionario.\nPer esempio nell'evento click del nostro oggetto pulsante:","_key":"dcd0def3b66a","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"56791863be41"},{"style":"normal","_key":"7004f75c2eeb","markDefs":[],"children":[{"_type":"span","marks":["strong"],"text":"obLanguageITButtonMenu.MOUSE_PRESS_EVENT","_key":"ba92f31f2c860"}],"_type":"block"},{"_type":"block","style":"blockquote","_key":"f0940e7ff7f4","markDefs":[],"children":[{"_type":"span","marks":[],"text":"global.language = \"it\";\nglobal.languageDict = loadDictionary(global.language)","_key":"17be50088bd6"}]},{"markDefs":[],"children":[{"marks":["strong"],"text":"obLanguageENButtonMenu.MOUSE_PRESS_EVENT","_key":"2f94837e353e0","_type":"span"}],"_type":"block","style":"normal","_key":"0b1311a19d66"},{"children":[{"_key":"d36523d0130c","_type":"span","marks":[],"text":"global.language = \"en\";\nglobal.languageDict = loadDictionary(global.language)"}],"_type":"block","style":"blockquote","_key":"d7611c3e15d5","markDefs":[]},{"children":[{"_type":"span","marks":[],"text":"Links risorse","_key":"d20ee214873e"}],"_type":"block","style":"h3","_key":"280d659b7e56","markDefs":[]},{"markDefs":[{"_type":"link","href":"https://discord.com/invite/0wKBBPIbX2r3S32a","_key":"31e116a52d24"}],"children":[{"_type":"span","marks":[],"text":"Qui di sotto lascio un po' di links e risorse utili, fatemi sapere se avete qualche consiglio su come migliorare la tecnica o se avete domande, vi risponderò sicuramente sul canale ","_key":"2754a39b4e6f"},{"_type":"span","marks":["31e116a52d24"],"text":"Discord","_key":"0b77258dde0f"},{"text":" di GMI!","_key":"edc41fbbbe44","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"6e0c3c44ddb3"},{"_type":"block","style":"normal","_key":"fe2792b7fc1e","markDefs":[{"_type":"link","href":"https://1drv.ms/u/s!AsUaJR7Xki_Wgb5zugzmGc83WXs-_Q?e=MsCyNM","_key":"be97b825527b"}],"children":[{"_type":"span","marks":["be97b825527b"],"text":"Download al progetto di esempio (GMS2.3)","_key":"9f684f2284f60"},{"text":"  ","_key":"0bdf8a929488","_type":"span","marks":[]}]},{"_type":"block","style":"normal","_key":"6cc613686a10","markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"99f693872735"}]}],"categories":["Tutorial"],"mainImage":{"asset":{"_ref":"image-eaff6f7ae2f7ea3af47d249ef6a5646402ac18c3-1278x716-png","_type":"reference"},"_type":"image"}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"traduzione-e-internazionalizzazione-con-game-maker"},"buildId":"qexUuuEhOP2RLkayQyDdC","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>